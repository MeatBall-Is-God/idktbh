_G.originalTable = _G.whiteList

if not _G.allreadytabled then
    _G.notcustomtable = true
    _G.allreadytabled = true
    _G.whiteList = {}
end    

function playersearch(arg)
    local player
    for i, v in pairs(game:GetService("Players"):GetPlayers()) do 
        if string.lower(string.sub(v.Name, 1, string.len(arg))) == string.lower(arg) then
            player = v.Character.Name
    	end
	end
    if player then
    return player
    end
end

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local Window = OrionLib:MakeWindow({Name = "Random Shitty Town Script", HidePremium = false, SaveConfig = true, ConfigFolder = "Random Shitty Town Script"})

local Tab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

Tab:AddTextbox({
	Name = "WhiteList",
	Default = "",
	TextDisappear = true,
	Callback = function(player1)
	    local player = playersearch(player1)
	    if player then
		if game.Players:FindFirstChild(player) then
		if table.find(_G.whiteList, tostring(player)) then
		   OrionLib:MakeNotification({
            	Name = "WhiteList",
            	Content = "Player "..player.." allready added.",
            	Image = "rbxassetid://4483345998",
            	Time = 5
            })
        else
            table.insert(_G.whiteList, tostring(player))
            OrionLib:MakeNotification({
            	Name = "WhiteList",
            	Content = "Added "..player.." to WhiteList table.",
            	Image = "rbxassetid://4483345998",
            	Time = 5
            })
		end
		end
	end
end
})

Tab:AddTextbox({
	Name = "BlackList",
	Default = "",
	TextDisappear = true,
	Callback = function(player1)
	    local player = playersearch(player1)
	    if player then
		local index = table.find(_G.whiteList, player)
        if index then
            table.remove(_G.whiteList, index)
            OrionLib:MakeNotification({
            	Name = "BlackList",
            	Content = "Removed "..player.." from WhiteList table.",
            	Image = "rbxassetid://4483345998",
            	Time = 5
            })
        else
            OrionLib:MakeNotification({
            	Name = "BlackList",
            	Content = "Player "..player.." is allready BlackListed (or not found).",
            	Image = "rbxassetid://4483345998",
            	Time = 5
            })
        end
	end	  
end
})

Tab:AddButton({
	Name = "Self WhiteList",
	Callback = function()
        if table.find(_G.whiteList, tostring(game.Players.LocalPlayer.Character.Name)) then
        else
            table.insert(_G.whiteList, tostring(game.Players.LocalPlayer.Character.Name))
        end    
  	end    
})

Tab:AddButton({
	Name = "Self BlackList",
	Callback = function()
        local index = table.find(_G.whiteList, game.Players.LocalPlayer.Character.Name)
        if index then
            table.remove(_G.whiteList, index)
        end
  	end    
})

Tab:AddButton({
	Name = "WhiteList All",
	Callback = function()
        for i,v in pairs(game.Players:GetPlayers()) do
            if table.find(_G.whiteList, tostring(v.Character.Name)) then
            else
                table.insert(_G.whiteList, tostring(v.Character.Name))
            end
        end    
  	end    
})

Tab:AddButton({
	Name = "BlackList All",
	Callback = function()
	    spawn(function()
    	    for i,v in pairs(_G.whiteList) do
    	        _G.whiteList = {}
    	    end
    	end)    
        pcall(function()
            for i,v in pairs(game.Players:GetPlayers()) do
                if v and v.Character and v.Character:FindFirstChildWhichIsA("Humanoid").Health > 0 and v.Character:FindFirstChildWhichIsA("Tool") then
                    local ohInstance1 = v.Character:FindFirstChildWhichIsA("Tool")
                    local ohString2 = "CanCollide"
                    local ohBoolean3 = true
                    local ohString4 = "par1"
                    local ohVector35 = Vector3.new(0.7717880010604858, -0.16577686369419098, 0.6138903498649597) --- random position (it will still drop near the player)
                                    
                    game:GetService("ReplicatedStorage").InteractFunction:InvokeServer(ohInstance1, ohString2, ohBoolean3, ohString4, ohVector35)
                end
            end
        end)	    
  	end    
})

Tab:AddButton({
	Name = "Print WhiteListed People (press F9 to view)",
	Callback = function()
	    pcall(function()
	    print()
        warn("--// White Listed People Under \\--")
        for i,v in pairs(_G.whiteList) do
            print(i,v)
        end
        warn("--// White Listed People Above \\--")
        print()
        end)
  	end    
})

if not _G.notcustomtable then

Tab:AddButton({
	Name = "Original WhiteList Table",
	Callback = function()
	    _G.whiteList = _G.originalTable
        pcall(function()
            for i,v in pairs(game.Players:GetPlayers()) do
                if v and v.Character and v.Character:FindFirstChildWhichIsA("Humanoid").Health > 0 and v.Character:FindFirstChildWhichIsA("Tool") then
                    local ohInstance1 = v.Character:FindFirstChildWhichIsA("Tool")
                    local ohString2 = "CanCollide"
                    local ohBoolean3 = true
                    local ohString4 = "par1"
                    local ohVector35 = Vector3.new(0.7717880010604858, -0.16577686369419098, 0.6138903498649597) --- random position (it will still drop near the player)
                                    
                    game:GetService("ReplicatedStorage").InteractFunction:InvokeServer(ohInstance1, ohString2, ohBoolean3, ohString4, ohVector35)
                end
            end
        end)	    
  	end    
})   

end

Tab:AddToggle({
	Name = "Tool Droping",
	Default = true,
	Callback = function(ass)
		if ass then
		    pcall(function()
                for i,v in pairs(game.Players:GetPlayers()) do
                    if v and v.Character and v.Character:FindFirstChildWhichIsA("Humanoid").Health > 0 and v.Character:FindFirstChildWhichIsA("Tool") then
                        local ohInstance1 = v.Character:FindFirstChildWhichIsA("Tool")
                        local ohString2 = "CanCollide"
                        local ohBoolean3 = true
                        local ohString4 = "par1"
                        local ohVector35 = Vector3.new(0.7717880010604858, -0.16577686369419098, 0.6138903498649597) --- random position (it will still drop near the player)
                                    
                        game:GetService("ReplicatedStorage").InteractFunction:InvokeServer(ohInstance1, ohString2, ohBoolean3, ohString4, ohVector35)
                    end
                end
            end)
		    _G.allowtooldroptroll = true
		else
		    _G.allowtooldroptroll = false
		end 
	end    
})

if _G.allowtooldroptroll then
pcall(function()
    for i,v in pairs(game.Players:GetPlayers()) do
        if v and v.Character and v.Character:FindFirstChildWhichIsA("Humanoid").Health > 0 and v.Character:FindFirstChildWhichIsA("Tool") then
                local ohInstance1 = v.Character:FindFirstChildWhichIsA("Tool")
                local ohString2 = "CanCollide"
                local ohBoolean3 = true
                local ohString4 = "par1"
                local ohVector35 = Vector3.new(0.7717880010604858, -0.16577686369419098, 0.6138903498649597) --- random position (it will still drop near the player)
                        
                game:GetService("ReplicatedStorage").InteractFunction:InvokeServer(ohInstance1, ohString2, ohBoolean3, ohString4, ohVector35)
            end        
        end
    end)
end

if not _G.allreadyran then
_G.allreadyran = true
game.Workspace.DescendantAdded:Connect(function(c)
    if _G.allowtooldroptroll then
        if c:IsA("Tool") and c.Parent:IsA("Model") and game.Players:FindFirstChild(c.Parent.Name) and not table.find(_G.whiteList, game.Players:FindFirstChild(c.Parent.Name).Character.Name) then
            local ohInstance1 = c
            local ohString2 = "CanCollide"
            local ohBoolean3 = true
            local ohString4 = "par1"
            local ohVector35 = Vector3.new(0.7717880010604858, -0.16577686369419098, 0.6138903498649597)  --- random position (it will still drop near the player)
                            
            game:GetService("ReplicatedStorage").InteractFunction:InvokeServer(ohInstance1, ohString2, ohBoolean3, ohString4, ohVector35)
        end 
        end
    end) 
end
